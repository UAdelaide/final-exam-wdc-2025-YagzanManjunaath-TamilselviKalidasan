<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dog Walk Service</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <style>
        * {
            box-sizing: border-box;

        }

        .title {
            font-size: xx-large;
            color: powderblue;
            display: flex;
            justify-content: flex-end;
            width: 100%;

        }

        .hero-text {
            text-align: right;
        }

        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }

        .dogView {
            display: flex;
            flex-direction: column;
            flex-basis: 1;
        }
        .load-more{
            color:white;
            background-color: aqua;
            justify-content: flex-end;
        }
    </style>

</head>

<body>
    <div id="app">
        <div class="clearfix">
            <p class="title">Dog Walk Service</p>
            <p class="hero-text">This section gives information about the webpage.This is a large text content that has
                no
                significance to the webpage. This web page can be used to randomly fetch a dog's image
                You can scroll up and down here. We try to deliver a good website.
            </p>
        </div>

        <div class="dogView">

            <div class="dogList" v-for="dog in dogList.slice(0,dogDisplayCount)">
                <img :src="dog" alt="" />
                <p>Dog {{dog}}</p>
            </div>
            <button class="load-more">Load more</button>
            <div class="dogOfDay">
                <img :src="dogOfDay" alt="" />
                <p> Dog of the Day</p>
            </div>
        </div>
    </div>


    <script>

        const vueapp = Vue.createApp({
            data() {
                return {
                    dogOfDay: "",
                    dogList: [],
                    dogDisplayCount:0
                };

            },
            methods: {
                async fetchRandomDog(text) {
                    try {
                        const data = await fetch('https://dog.ceo/api/breeds/image/random').then((response) => response.json());
                        this.dogOfDay = data.message;
                    } catch (err) {
                        console.log("Error fetching random dog image");
                    }
                },
                async fetchListOfRandomDog(text) {
                    try {
                        const dataList = await fetch('https://dog.ceo/api/breeds/image/random/50').then((response) => response.json());
                        console.log(dataList);
                        this.dogList = dataList.message;


                    } catch (err) {
                        console.log("Error fetching random dog image");
                    }
                },


            },
            mounted() {

                this.fetchRandomDog();
                this.fetchListOfRandomDog();
            }
        }
        );
        const vueinst = vueapp.mount('#app')
        window.vueinst = vueinst

    </script>
</body>

</html>